# ✅ Start from the official Playwright Python image (with Chromium)
FROM mcr.microsoft.com/playwright/python:v1.42.0-jammy

# ✅ Set working directory
WORKDIR /app

# ✅ Copy all your code
COPY . .

# ✅ Install Python packages
RUN pip install --no-cache-dir -r requirements.txt

# ✅ Install browser dependencies (THIS is CRITICAL for Railway)
RUN playwright install-deps

# ✅ Run your script
CMD ["python", "main.py"]

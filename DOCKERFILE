# ✅ Start from official Playwright image with browser support
FROM mcr.microsoft.com/playwright/python:v1.42.0-jammy

# ✅ Set working directory
WORKDIR /app

# ✅ Copy your app code
COPY . .

# ✅ Install Python requirements
RUN pip install --no-cache-dir -r requirements.txt

# ✅ Install missing Linux dependencies for Playwright (THIS is the missing part)
RUN playwright install-deps

# ✅ Run your script
CMD ["python", "main.py"]
